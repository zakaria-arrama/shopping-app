<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>JSF Example</title>
</h:head>
<h:body>

		    <p:link outcome="productDetail" value="Détails produit #4">
		        <f:param name="productId" value="4"/>
		    </p:link>
			<br />
			<h:form>
				<p:panelGrid columns="2">
					<p:outputLabel value="First Name:"  />
					<p:inputText value="#{customerBean.firstName}" required="true"/>

					<p:outputLabel value="Last Name:" />
					<p:inputText value="#{customerBean.lastName}" />

					<p:outputLabel value="Email:" />
					<p:inputText value="#{customerBean.email}" />

					<p:outputLabel value="Num tél" />
					<p:inputText value="#{customerBean.phoneNumber}" />


					<p:outputLabel value="Addr" />
					<p:inputText value="#{customerBean.adresse}" />


				</p:panelGrid>

				<p:commandButton value="Save" action="#{customerBean.saveCustomer}" oncomplete="PF('successDialog').show();"/>
			</h:form>

		    <h:form>
		        <p:dataTable id="customerTable" value="#{customerBean.customers}" var="customer" paginator="true" rows="10">
		            <p:column headerText="ID">
		                <h:outputText value="#{customer.id}" />
		            </p:column>
		            <p:column headerText="First Name">
		                <h:outputText value="#{customer.firstName}" />
		            </p:column>
		            <p:column headerText="Last Name">
		                <h:outputText value="#{customer.lastName}" />
		            </p:column>
		            <p:column headerText="Email">
		                <h:outputText value="#{customer.email}" />
		            </p:column>
		            <p:column headerText="Phone Number">
		                <h:outputText value="#{customer.phoneNumber}" />
		            </p:column>
		            <p:column headerText="Address">
		                <h:outputText value="#{customer.adresse}" />
		            </p:column>
		            
        		    <p:column headerText="Actions">
					            <!-- Show Orders Action -->
					        <p:commandButton icon="ui-icon-search" title="Show Orders"
					                         action="#{customerBean.showOrders(customer)}"
					                         ajax="false" />
					        <!-- Edit Customer Action -->
					        <p:commandButton icon="ui-icon-pencil" title="Edit Customer"
					                         action="#{customerBean.editCustomer(customer)}"
					                         ajax="false" />
					        <!-- Delete Customer Action -->
					        <p:commandButton icon="ui-icon-trash" title="Delete Customer"
					                         action="#{customerBean.deleteCustomer(customer)}"
					                         update="customerTable :messages" />
					</p:column>
		            
		        </p:dataTable>
		    </h:form>
      		<p:messages id="messages" autoUpdate="true" />
		  
		  
	<p:dialog id="successDialog" header="Success" widgetVar="successDialog" modal="true" closable="true">
    	<h:outputText value="Customer has been successfully created!" />
	</p:dialog>
	
	<p:dialog id="deleteDialog" header="Success" widgetVar="successDialog" modal="true" closable="true">
    	<h:outputText value="Customer deleted successfully!" />
	</p:dialog>
		    
</h:body>
</html>
